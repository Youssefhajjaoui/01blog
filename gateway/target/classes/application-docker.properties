# ==========================================================
# Gateway Application Configuration for Docker
# ==========================================================
spring.application.name=api-gateway
server.port=8080

# ==========================================================
# Redis Configuration for Rate Limiting
# ==========================================================
# Temporarily disabled - uncomment when ready for rate limiting
# spring.data.redis.host=redis
# spring.data.redis.port=6379
# spring.data.redis.password=${REDIS_PASSWORD:}

# ==========================================================
# Backend Service Configuration
# ==========================================================
backend.url=http://backend:9090

# ==========================================================
# Gateway Security - CORS-based validation
# ==========================================================
# Gateway now uses CORS-based validation instead of secret keys

# ==========================================================
# JWT Configuration (must match backend)
# ==========================================================
jwt.secret=${JWT_SECRET:my-super-secret-jwt-key-that-should-be-at-least-256-bits-long-for-hs256-algorithm}

# ==========================================================
# Rate Limiting Configuration
# ==========================================================
ratelimit.default.replenishRate=100
ratelimit.default.burstCapacity=150
ratelimit.default.requestedTokens=1

ratelimit.auth.replenishRate=5
ratelimit.auth.burstCapacity=10
ratelimit.auth.requestedTokens=1

ratelimit.api.replenishRate=50
ratelimit.api.burstCapacity=100
ratelimit.api.requestedTokens=1

ratelimit.public.replenishRate=20
ratelimit.public.burstCapacity=40
ratelimit.public.requestedTokens=1

# ==========================================================
# Actuator Configuration
# ==========================================================
management.endpoints.web.exposure.include=health,info,metrics,gateway
management.endpoint.health.show-details=always

# ==========================================================
# Logging
# ==========================================================
logging.level.org.springframework.cloud.gateway=DEBUG
logging.level.com.example.gateway=DEBUG
logging.level.org.springframework.web.cors=DEBUG

# ==========================================================
# CORS Configuration
# ==========================================================
# CORS is configured via CorsWebFilter bean in GatewayConfig.java
# Property-based configuration is disabled to avoid conflicts

